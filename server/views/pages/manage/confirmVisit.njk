{% extends "partials/layout.njk" %}

{% from "govuk/components/panel/macro.njk" import govukPanel %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{# {% from "partials/formatCvpLink.njk" import formatCvpLink %} #}

{% set mode = session.req.routeContext.mode %}
{% set pageTitle = "Official visit booked for " + (
prisoner.firstName + " " + prisoner.lastName) | convertToTitleCase %}
{% set hideBackLink = true %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {{ govukPanel({ titleText: pageTitle, classes: 'govuk-!-margin-bottom-6' }) }}

      <p>You have successfully scheduled an official visit with:</p>
      <ul class="govuk-list govuk-list--bullet">
        {% for contact in visit.officialVisitors %}
          <li>{{ (contact.firstName + " " + contact.lastName) | convertToTitleCase }} ({{ contact.relationshipToPrisonerDescription or 'TODO' }})</li>
        {% endfor %}
      </ul>

      <p>The visit will take place on {{ visit.visitDate | formatDate("EEEE, d MMMM yyyy") }} from {{ (visit.startTime | timeStringTo12HourPretty) + ' to ' + (visit.endTime | timeStringTo12HourPretty) + ' (' +  visit.startTime | durationText(visit.endTime) + ')' }} in {{ visit.location or 'TODO' }}.</p>

      <h2 class='govuk-heading-m'>What you can do next</h2>

      <a href="" class="govuk-link">Download confirmation</a>
      <a href="" class="govuk-link">View visit</a>
      <a href="" class="govuk-link">Schedule another visit</a>
      <a href="" class="govuk-link">Print a movement slip</a>

    </div>
  </div>
{% endblock %}